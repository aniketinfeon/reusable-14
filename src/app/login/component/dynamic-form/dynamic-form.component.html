<div class="row m-5">
<div class="col-xl-9">
    <form [formGroup]="dynamicForm" (submit)="postDyanmicForm()">
        <div class="row">
            <div class="col-4 form-group">
                <label for="name"> Name</label><sup class="text-danger">*</sup> <br>
                <input type="text" class="form-control" id="firstname" placeholder="Enter Name" formControlName="firstname"> 
                <span class="text-danger" *ngIf="dynamicValue['firstname'].touched && dynamicValue['firstname'].invalid">
                    <span *ngIf="dynamicValue['firstname'].hasError('required')">First name is required</span>
                    <span *ngIf="dynamicValue['firstname'].hasError('pattern')">Enter only character</span>
                </span> 
            </div>
            <div class="col-4 form-group">
                <label for="lastname">Email</label> <sup class="text-danger">*</sup>  <br>
                <input type="text" class="form-control" id="email" placeholder="Enter email Id" formControlName="emailid">
                <span class="text-danger" *ngIf="dynamicValue['emailid'].touched && dynamicValue['emailid'].invalid">
                    <span *ngIf="dynamicValue['emailid'].hasError('required')">Email is required</span>
                    <span *ngIf="dynamicValue['emailid'].hasError('pattern')">Enter valid Email.</span>
                </span>
            </div>
        </div>
        <div class="row address">
            <div class="col-10" formArrayName="address">
                <div class="my-4 p-3 row" style="border: 1px dashed black;" 
                    *ngFor="let addrGroup of addressArray.controls; index as i" [formGroupName] ="i" >
                    <div class="col-11">
                        <div class="row">
                            <div class="col-4">
                                <input type="text" class="form-control" id="country" placeholder="Country" formControlName="country"> 
                            </div>
                            <div class="col-4">
                                <input type="text" class="form-control" id="state" placeholder="State" formControlName="state"> 
                            </div>
                            <div class="col-4">
                                <input type="text" class="form-control" id="city" placeholder="City" formControlName="city"> 
                            </div>   
                        </div>
                        <!-- <div class="mobile" formArrayName="contacts">
                            <div class="row mt-3">
                                <div class="col-10" *ngFor="let subgroup of addressArray.controls[i].contacts.controls; index as ids" [formGroupName]="ids"> 
                                    <div class="row">
                                        <div class="col-5">
                                            <input type="text" class="form-control" id="pcontact" placeholder="Contact person" formControlName="personName"> </div>
                                        <div class="col-5">
                                            <input type="text" class="form-control" id="mobile" placeholder="Mobile" formControlName="personContact"> </div>
                                        <div class="col-2">
                                            <button class="btn btn-outline-danger">remove</button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-2">
                                        <button class="btn btn-outline-secondary" >Add </button>
                                    </div>
                                </div>
                            <div>            
                        </div>
                        </div> -->
                </div>
                <div class="col-1">
                    <button type="button" *ngIf="addressArray.controls.length > 1"  class="btn btn-light btn-sm w-auto" (click)="removeAddress(i)">X</button>
                    </div>     
                </div>
            </div>
            <div class="col-2 my-4">
                <div class="btn btn-primary" (click)="addAddress()">Add more address</div>
            </div>
        </div>
        <button type="submit" class="btn btn-primary" >Submit</button>
    </form>
</div>
</div>